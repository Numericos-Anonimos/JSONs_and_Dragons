{
    "Paladino": {
        "hitDiceValue": 10,
        "equipment": [
            { "action": "CHOOSE", "n": 1, "options": [
                [
                    { "action": "CHOOSE", "name": "Escudo", "query": "items/type == 'armor' AND metadata.category == 'shield'" },
                    { "action": "CHOOSE", "name": "Armas marciais", "query": "items/type == 'weapon' AND metadata.category == 'martial'" }
                ],
                { "action": "CHOOSE", "name": "Armas marciais", "n": 2, "query": "items/type == 'weapon' AND metadata.category == 'martial'" }
            ]}
        ],
        "level_1": {
            "operations": [
                { "action": "SET", "property": "nivel_paladino", "type": "value", "value": 1 },
                { "action": "GRANT_PROFICIENCY", "category": "armor", "name": "Leve" },
                { "action": "GRANT_PROFICIENCY", "category": "armor", "name": "Media" },
                { "action": "GRANT_PROFICIENCY", "category": "armor", "name": "Pesada" },
                { "action": "GRANT_PROFICIENCY", "category": "armor", "name": "Escudo" },
                { "action": "GRANT_PROFICIENCY", "category": "weapon", "name": "Armas simples" },
                { "action": "GRANT_PROFICIENCY", "category": "weapon", "name": "Armas marciais" },
                { "action": "GRANT_PROFICIENCY", "category": "saving_throw", "name": "Sabedoria" },
                { "action": "GRANT_PROFICIENCY", "category": "saving_throw", "name": "Carisma" },
                { "action": "CHOOSE", "n": 2, "options": [
                    {"action": "GRANT_PROFICIENCY", "category": "skill", "name": "Atletismo"},
                    {"action": "GRANT_PROFICIENCY", "category": "skill", "name": "Intimidação"},
                    {"action": "GRANT_PROFICIENCY", "category": "skill", "name": "Intuição"},
                    {"action": "GRANT_PROFICIENCY", "category": "skill", "name": "Medicina"},
                    {"action": "GRANT_PROFICIENCY", "category": "skill", "name": "Persuasão"},
                    {"action": "GRANT_PROFICIENCY", "category": "skill", "name": "Religião"}
                ]}
            ],
            "features": [
                {
                    "name": "Sentido Divino",
                    "description": "Com uma ação, você pode expandir sua consciência para detectar forças do mal e do bem.",
                    "operations": [
                        { "action": "SET", "property": "sentido_divino", "type": "counter", "formula": "1 + attributes.carisma.modifier", "recoversOn": "long_rest" }
                    ]
                },
                {
                    "name": "Cura pelas Mãos",
                    "description": "Você tem uma reserva de poder curativo que pode usar para restaurar pontos de vida.",
                    "operations": [
                        { "action": "SET", "property": "cura_pelas_maos", "formula": "5 * properties.nivel_paladino", "recoversOn": "long_rest" }
                    ]
                }
            ]
        },
        "level_2": {
            "operations": [
                {"action": "INCREMENT", "property": "nivel_paladino", "value": 1}
            ],

            "features": [
                {
                    "name": "Estilo de Luta",
                    "description": "No segundo nível, você escolhe um estilo de luta como sua especialidade.",
                    "operations": [
                        { "action": "CHOOSE", "n": 1, "query": "features/type == 'figth_style' AND 'paladin' in metadata.classes" }
                    ]
                },
                {
                    "name": "Conjuração",
                    "description": "Você aprende a extrair magia divina para conjurar magias.",
                    "metadata": {
                        "can_multiclass": true,
                        "formula": "floor(properties.nivel_paladino / 2)",
                        "spellcasting_modifier": "attributes.carisma.modifier",
                        "spellSlots": [2, 0, 0, 0, 0, 0, 0, 0, 0],
                        "spellSlotsRecoverOn": "long_rest",
                        "spellbook": "spells/'paladin' in metadata.classes"
                    }
                },
                {
                    "name": "Destruição Divina",
                    "description": "Ao atingir um ataque, você pode gastar um espaço de magia para causar dano radiante extra.",
                    "cost": {
                        "action": "Free",
                        "resource": {
                            "property": "spellSlots",
                            "min_slot": 1,
                            "amount": 1
                        }
                    }
                }   
            ]
        },
        "level_3": {
            "operations": [
                {"action": "INCREMENT", "property": "nivel_paladino", "value": 1}
            ],
            "features": [
                {
                    "name": "Saúde Divina",
                    "description": "Você é imune a doenças"
                },
                {
                    "name": "Juramento Sagrado (Subclasse)",
                    "description": "Você faz um juramento...",
                    "operations": [
                        { "action": "CHOOSE", "n": 1, "query": "subclasses/metadata.class == 'paladin'" }
                    ]
                },
                {
                    "name": "Canalizar Divindade",
                    "description": "Seu juramento permite que você canalize a energia divina para...",
                    "operations": [
                        { "action": "SET", "property": "canalizar_divindade", "type": "counter", "value": 1, "recoversOn": "long_rest" }   
                    ]
                }
            ]
        },
        "level_4": {
            "operations": [
                {"action": "INCREMENT", "property": "nivel_paladino", "value": 1}
            ],
            "features": [
                {
                    "name": "Incremento no Valor de Habilidade",
                    "description": "Aumenta 2 habilidades em 1 ou pega um talento",
                    "operations": [
                        { "action": "CHOOSE", "n": 1, "options": [
                            {"action": "CHOOSE", "n": 2, "options": [
                                { "action": "INCREMENT", "property": "attributes.str", "value": 1 },
                                { "action": "INCREMENT", "property": "attributes.dex", "value": 1 },
                                { "action": "INCREMENT", "property": "attributes.con", "value": 1 },
                                { "action": "INCREMENT", "property": "attributes.int", "value": 1 },
                                { "action": "INCREMENT", "property": "attributes.wis", "value": 1 },
                                { "action": "INCREMENT", "property": "attributes.cha", "value": 1 }
                            ]},
                            { "action": "ADD_FEATURE", "n": 1,"query": "feats/" }
                            ]
                        }
                    ]
                }
            ]
        }
    }
}
